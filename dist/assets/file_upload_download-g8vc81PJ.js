import{$ as F,a as U}from"./request-5hlnYKd-.js";import{d as z,r as i,o as m,y as x,e as r,f as e,w as t,F as b,b as d,g as u,z as L,a as $,u as w,h as E,A as N,B as O,_ as R}from"./index-DHYUlY3z.js";const j=async p=>{try{const n=await F("/files/download",p);if(console.log("OK?",n),n.status){const _=await n.blob(),s=document.createElement("a");s.href=window.URL.createObjectURL(_),s.download=p,s.click()}else alert("从后端downloadfile目录里下载此文件失败.")}catch(n){console.error(n),alert("下载文件出错.")}},A={class:"top-box"},I={class:"content-box"},K={class:"upload"},S={class:"download"},T={class:"delete"},q=z({__name:"file_upload_download",setup(p){const n=i("192.168.6.11"),_=i("/data/testing_data"),s=i([]),v=i(!0);async function h(){s.value=[];try{const c=await U("/api/flex/discover"),l=c.flex_group;for(const o in l)console.log(o,l[o].name),s.value.push({value:o,label:l[o].name});return c.flex_group}catch(c){console.error("Error:",c)}}const g=async()=>{await j("setting.zip")};return(c,l)=>{const o=d("el-text"),y=d("el-option"),V=d("el-select"),k=d("el-button"),C=d("el-input"),B=d("el-switch"),f=d("el-icon");return m(),x(b,null,[r("div",A,[e(o,null,{default:t(()=>[u("Flex设备")]),_:1}),e(V,{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=a=>n.value=a),placeholder:"Select",style:{width:"240px"},filterable:"","allow-create":""},{default:t(()=>[(m(!0),x(b,null,L(s.value,a=>(m(),$(y,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),e(k,{type:"primary",size:"small",onClick:h,style:{"margin-top":"7px"}},{default:t(()=>[u(" 刷新设备 ")]),_:1}),e(o,null,{default:t(()=>[u("下载路径")]),_:1}),e(C,{modelValue:_.value,"onUpdate:modelValue":l[1]||(l[1]=a=>_.value=a),style:{width:"240px",height:"25px"},placeholder:"/data/testing_data"},null,8,["modelValue"]),e(o,null,{default:t(()=>[u("使用密钥")]),_:1}),e(B,{modelValue:v.value,"onUpdate:modelValue":l[2]||(l[2]=a=>v.value=a)},null,8,["modelValue"])]),r("div",I,[r("div",K,[e(f,{onClick:l[3]||(l[3]=()=>{})},{default:t(()=>[e(w(E))]),_:1}),e(o,{size:""},{default:t(()=>[u("上传")]),_:1})]),r("div",S,[e(f,{onClick:g},{default:t(()=>[e(w(N))]),_:1}),e(o,null,{default:t(()=>[u("下载")]),_:1})]),r("div",T,[e(f,null,{default:t(()=>[e(w(O))]),_:1}),e(o,null,{default:t(()=>[u("删除")]),_:1})])])],64)}}}),H=R(q,[["__scopeId","data-v-d656638b"]]);export{H as default};
