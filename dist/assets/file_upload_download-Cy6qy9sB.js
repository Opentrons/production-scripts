import{$ as B,a as $}from"./request-5hlnYKd-.js";import{d as E,r,o as x,y as g,e as _,f as e,w as l,F as h,b as n,g as d,z as N,u as w,h as O,A as R,B as j,_ as A}from"./index-B2MqApx6.js";const I=async p=>{try{const t=await B("/files/download",p);if(console.log("OK?",t),t.status){const i=await t.blob(),c=document.createElement("a");c.href=window.URL.createObjectURL(i),c.download=p,c.click()}else alert("从后端downloadfile目录里下载此文件失败.")}catch(t){console.error(t),alert("下载文件出错.")}},K={class:"top-box"},S={class:"content-box"},T={class:"upload"},q={class:"download"},D={class:"delete"},G=E({__name:"file_upload_download",setup(p){const t=r("192.168.6.11"),i=r("/data/testing_data"),c=[],v=r(!0),f=r([]);async function b(){try{const s=await $("/api/flex/discover");return console.log(s.flex_group),console.log(s.message),console.log(s.success),s.flex_group}catch(s){console.error("Error:",s)}}const y=()=>{console.log(f.value)},V=async()=>{await I("setting.zip")};return(s,a)=>{const u=n("el-text"),k=n("el-option"),C=n("el-select"),L=n("el-button"),U=n("el-upload"),F=n("el-input"),z=n("el-switch"),m=n("el-icon");return x(),g(h,null,[_("div",K,[e(u,null,{default:l(()=>[d("Flex设备")]),_:1}),e(C,{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=o=>t.value=o),placeholder:"Select",style:{width:"240px"},filterable:"","allow-create":""},{default:l(()=>[(x(),g(h,null,N(c,o=>e(k,{key:o.value,label:o.label,value:o.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),e(U,{"file-list":f.value,"onUpdate:fileList":a[1]||(a[1]=o=>f.value=o),class:"upload-demo",multiple:""},{default:l(()=>[e(L,{type:"primary",size:"small",onClick:b,style:{"margin-top":"7px"}},{default:l(()=>[d(" 刷新设备 ")]),_:1})]),_:1},8,["file-list"]),e(u,null,{default:l(()=>[d("下载路径")]),_:1}),e(F,{modelValue:i.value,"onUpdate:modelValue":a[2]||(a[2]=o=>i.value=o),style:{width:"240px",height:"25px"},placeholder:"/data/testing_data"},null,8,["modelValue"]),e(u,null,{default:l(()=>[d("使用密钥")]),_:1}),e(z,{modelValue:v.value,"onUpdate:modelValue":a[3]||(a[3]=o=>v.value=o)},null,8,["modelValue"])]),_("div",S,[_("div",T,[e(m,{onClick:y},{default:l(()=>[e(w(O))]),_:1}),e(u,{size:""},{default:l(()=>[d("上传")]),_:1})]),_("div",q,[e(m,{onClick:V},{default:l(()=>[e(w(R))]),_:1}),e(u,null,{default:l(()=>[d("下载")]),_:1})]),_("div",D,[e(m,null,{default:l(()=>[e(w(j))]),_:1}),e(u,null,{default:l(()=>[d("删除")]),_:1})])])],64)}}}),M=A(G,[["__scopeId","data-v-1a054d5f"]]);export{M as default};
