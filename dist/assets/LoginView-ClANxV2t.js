import{d as S,u as U,a as z,r as n,b as s,c as B,o as E,e as l,f as a,w as o,g as F,h as i,E as m,_ as L}from"./index-Dx61kbk2.js";const N={class:"login-container"},q={class:"login-footer"},R=S({__name:"LoginView",setup(A){const p=U(),b=z(),r=n({username:"",password:"",rememberMe:!1}),_=n(!1),d=n(!1),f=n(),w=n({username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:12,message:"长度在 3 到 12 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:18,message:"长度在 6 到 18 个字符",trigger:"blur"}]}),V=async()=>{try{d.value=!0,await f.value?.validate(),await b.login(r.value)?(m.success("登录成功"),p.push("/")):m.error("登录失败")}catch{m.error("登录失败")}finally{d.value=!1}},y=()=>{p.push("/register")};return(g,e)=>{const c=s("el-input"),u=s("el-form-item"),x=s("el-checkbox"),v=s("el-link"),k=s("el-button"),C=s("el-form"),M=s("el-card");return E(),B("div",N,[l(M,{class:"login-card"},{default:o(()=>[e[8]||(e[8]=a("div",{class:"login-header"},[a("h2",null,"欢迎登录"),a("p",null,"请输入您的账号和密码")],-1)),l(C,{ref_key:"loginForm",ref:f,model:r.value,rules:w.value,onSubmit:F(V,["prevent"])},{default:o(()=>[l(u,{prop:"username"},{default:o(()=>[l(c,{modelValue:r.value.username,"onUpdate:modelValue":e[0]||(e[0]=t=>r.value.username=t),placeholder:"请输入用户名","prefix-icon":"User",size:"large"},null,8,["modelValue"])]),_:1}),l(u,{prop:"password"},{default:o(()=>[l(c,{modelValue:r.value.password,"onUpdate:modelValue":e[1]||(e[1]=t=>r.value.password=t),type:"password",placeholder:"请输入密码","prefix-icon":"Lock",size:"large","show-password":""},null,8,["modelValue"])]),_:1}),l(u,null,{default:o(()=>[l(x,{modelValue:_.value,"onUpdate:modelValue":e[2]||(e[2]=t=>_.value=t)},{default:o(()=>e[3]||(e[3]=[i("记住我")])),_:1,__:[3]},8,["modelValue"]),l(v,{type:"primary",underline:!1,class:"forgot-password"},{default:o(()=>e[4]||(e[4]=[i(" 忘记密码? ")])),_:1,__:[4]})]),_:1}),l(u,null,{default:o(()=>[l(k,{type:"primary","native-type":"submit",loading:d.value,size:"large",class:"login-btn"},{default:o(()=>e[5]||(e[5]=[i(" 登 录 ")])),_:1,__:[5]},8,["loading"])]),_:1}),a("div",q,[e[7]||(e[7]=a("span",null,"还没有账号?",-1)),l(v,{type:"primary",underline:!1,onClick:y},{default:o(()=>e[6]||(e[6]=[i(" 立即注册 ")])),_:1,__:[6]})])]),_:1},8,["model","rules"])]),_:1,__:[8]}),e[9]||(e[9]=a("div",{class:"login-bg"},null,-1))])}}}),I=L(R,[["__scopeId","data-v-96146f1a"]]);export{I as default};
