import{d as P,u as z,r as m,b as t,c as E,o as U,e as r,f as u,w as s,g as C,h as i,E as v,_ as q}from"./index-C7KWISnE.js";const B={class:"register-container"},L={class:"register-footer"},M=P({__name:"RegisterView",setup(N){const f=z(),l=m({username:"",email:"",password:"",confirmPassword:"",agreement:!1}),p=m(!1),_=m(),w=m({username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:12,message:"长度在 3 到 12 个字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:["blur","change"]}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:18,message:"长度在 6 到 18 个字符",trigger:"blur"},{pattern:/^(?=.*[A-Za-z])(?=.*\d).+$/,message:"必须包含字母和数字",trigger:"blur"}],confirmPassword:[{validator:(d,e,o)=>{e===""?o(new Error("请再次输入密码")):e!==l.value.password?o(new Error("两次输入密码不一致!")):o()},trigger:"blur"}],agreement:[{validator:(d,e,o)=>{e?o():o(new Error("请同意用户协议"))},trigger:"change"}]}),V=async()=>{try{p.value=!0,await _.value?.validate(),console.log("注册成功",l.value),v.success("注册成功"),f.push("/login")}catch(d){console.error("注册失败",d),v.error("请检查表单填写是否正确")}finally{p.value=!1}},b=()=>{f.push("/login")};return(d,e)=>{const o=t("el-input"),n=t("el-form-item"),g=t("el-link"),c=t("el-checkbox"),y=t("el-button"),x=t("el-form"),k=t("el-card");return U(),E("div",B,[r(k,{class:"register-card"},{default:s(()=>[e[12]||(e[12]=u("div",{class:"register-header"},[u("h2",null,"用户注册"),u("p",null,"创建您的账户")],-1)),r(x,{ref_key:"registerForm",ref:_,model:l.value,rules:w.value,onSubmit:C(V,["prevent"])},{default:s(()=>[r(n,{prop:"username"},{default:s(()=>[r(o,{modelValue:l.value.username,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value.username=a),placeholder:"请输入用户名","prefix-icon":"User",size:"large"},null,8,["modelValue"])]),_:1}),r(n,{prop:"email"},{default:s(()=>[r(o,{modelValue:l.value.email,"onUpdate:modelValue":e[1]||(e[1]=a=>l.value.email=a),placeholder:"请输入邮箱","prefix-icon":"Message",size:"large"},null,8,["modelValue"])]),_:1}),r(n,{prop:"password"},{default:s(()=>[r(o,{modelValue:l.value.password,"onUpdate:modelValue":e[2]||(e[2]=a=>l.value.password=a),type:"password",placeholder:"请输入密码","prefix-icon":"Lock",size:"large","show-password":""},null,8,["modelValue"])]),_:1}),r(n,{prop:"confirmPassword"},{default:s(()=>[r(o,{modelValue:l.value.confirmPassword,"onUpdate:modelValue":e[3]||(e[3]=a=>l.value.confirmPassword=a),type:"password",placeholder:"请确认密码","prefix-icon":"Lock",size:"large","show-password":""},null,8,["modelValue"])]),_:1}),r(n,{prop:"agreement"},{default:s(()=>[r(c,{modelValue:l.value.agreement,"onUpdate:modelValue":e[4]||(e[4]=a=>l.value.agreement=a)},{default:s(()=>[e[7]||(e[7]=i(" 我已阅读并同意 ")),r(g,{type:"primary",underline:!1},{default:s(()=>e[5]||(e[5]=[i("用户协议")])),_:1,__:[5]}),e[8]||(e[8]=i(" 和 ")),r(g,{type:"primary",underline:!1},{default:s(()=>e[6]||(e[6]=[i("隐私政策")])),_:1,__:[6]})]),_:1,__:[7,8]},8,["modelValue"])]),_:1}),r(n,null,{default:s(()=>[r(y,{type:"primary","native-type":"submit",loading:p.value,size:"large",class:"register-btn"},{default:s(()=>e[9]||(e[9]=[i(" 注 册 ")])),_:1,__:[9]},8,["loading"])]),_:1}),u("div",L,[e[11]||(e[11]=u("span",null,"已有账号?",-1)),r(g,{type:"primary",underline:!1,onClick:b},{default:s(()=>e[10]||(e[10]=[i(" 立即登录 ")])),_:1,__:[10]})])]),_:1},8,["model","rules"])]),_:1,__:[12]}),e[13]||(e[13]=u("div",{class:"register-bg"},null,-1))])}}}),S=q(M,[["__scopeId","data-v-bca6980b"]]);export{S as default};
