import{$ as E,a as N}from"./request-5hlnYKd-.js";import{d as A,r,z as O,o as h,y as g,e as _,f as e,w as l,F as b,b as n,g as d,A as R,u as w,h as T,B as j,C as I,_ as K}from"./index-mk7Rom8B.js";const S=async p=>{try{const t=await E("/files/download",p);if(console.log("OK?",t),t.status){const i=await t.blob(),c=document.createElement("a");c.href=window.URL.createObjectURL(i),c.download=p,c.click()}else alert("从后端downloadfile目录里下载此文件失败.")}catch(t){console.error(t),alert("下载文件出错.")}},q={class:"top-box"},D={class:"content-box"},G={class:"upload"},H={class:"download"},J={class:"delete"},M=A({__name:"file_upload_download",async setup(p){let t,i;const c=r("192.168.6.11"),v=r("/data/testing_data"),y=[];[t,i]=O(()=>V()),await t,i();const x=r(!0),f=r([]);async function V(){await this.$nextTick();try{const s=await N("/api/flex/discover");return console.log(s.flex_group),console.log(s.message),console.log(s.success),s.flex_group}catch(s){console.error("Error:",s)}}const k=()=>{console.log(f.value)},C=async()=>{await S("setting.zip")};return(s,a)=>{const u=n("el-text"),L=n("el-option"),U=n("el-select"),F=n("el-button"),$=n("el-upload"),z=n("el-input"),B=n("el-switch"),m=n("el-icon");return h(),g(b,null,[_("div",q,[e(u,null,{default:l(()=>[d("Flex设备")]),_:1}),e(U,{modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=o=>c.value=o),placeholder:"Select",style:{width:"240px"},filterable:"","allow-create":""},{default:l(()=>[(h(),g(b,null,R(y,o=>e(L,{key:o.value,label:o.label,value:o.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),e($,{"file-list":f.value,"onUpdate:fileList":a[1]||(a[1]=o=>f.value=o),class:"upload-demo",multiple:""},{default:l(()=>[e(F,{type:"primary",size:"small",style:{"margin-top":"7px"}},{default:l(()=>[d(" 刷新设备 ")]),_:1})]),_:1},8,["file-list"]),e(u,null,{default:l(()=>[d("下载路径")]),_:1}),e(z,{modelValue:v.value,"onUpdate:modelValue":a[2]||(a[2]=o=>v.value=o),style:{width:"240px",height:"25px"},placeholder:"/data/testing_data"},null,8,["modelValue"]),e(u,null,{default:l(()=>[d("使用密钥")]),_:1}),e(B,{modelValue:x.value,"onUpdate:modelValue":a[3]||(a[3]=o=>x.value=o)},null,8,["modelValue"])]),_("div",D,[_("div",G,[e(m,{onClick:k},{default:l(()=>[e(w(T))]),_:1}),e(u,{size:""},{default:l(()=>[d("上传")]),_:1})]),_("div",H,[e(m,{onClick:C},{default:l(()=>[e(w(j))]),_:1}),e(u,null,{default:l(()=>[d("下载")]),_:1})]),_("div",J,[e(m,null,{default:l(()=>[e(w(I))]),_:1}),e(u,null,{default:l(()=>[d("删除")]),_:1})])])],64)}}}),W=K(M,[["__scopeId","data-v-ee48d83e"]]);export{W as default};
